<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style type="text/css">
        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        ol,
        ul,
        li,
        img {
            margin: 0;
            padding: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }
        
        html * {
            font-family: "ff-din-web-pro-1", "ff-din-web-pro-2", sans-serif;
            font-size: 16px;
            line-height: 19.2px;
            color-profile: sRGB;
        }
        
        body {
            min-width: 32em;
            max-width: 56em;
            margin: 10px auto;
        }
        
        p, blockquote p {
            line-height: 1.6;
        }
        
        ul, ol {
            margin: 16px 0;
        }
        
        ul li, ol li {
            line-height: 1.6;
        }
        
        p {
            font-weight: lighter;
            margin: 10px 0;
        }
        
        strong {
            font-weight: bold;
        }
        
        ol,
        ul {
            margin-left: 2em;
        }
        
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-weight: lighter;
            text-transform: capitalize;
            margin: 20px 0;
            border-bottom: 1px solid;
            padding-bottom: 6px;
        }
        
        h1, h1 > code {
            font-size: 24.624px;
            line-height: 29.548799999999996px;
        }
        
        h2, h2 > code {
            font-size: 24.624px;
            line-height: 29.548799999999996px;
        }
        
        h3, h3 > code {
            font-size: 23.44px;
            line-height: 28.128px;
        }
        
        h4, h4 > code {
            font-size: 22.16px;
            line-height: 26.592px;
        }
        
        h5, h5 > code {
            font-size: 22.16px;
            line-height: 26.592px;
        }
        
        h6, h6 > code {
            font-size: 22.16px;
            line-height: 26.592px;
        }
        
        img {
            margin-bottom: 20px;
        }
        
        h1 img,
        h2 img,
        h3 img,
        h4 img,
        h5 img,
        h6 img,
        p img {
            margin-bottom: 0;
        }
        
        pre,
        code {
            font-family: monospace, Consolas, "Source Code Pro", Arial, sans-serif;
            color: #586e75;
            background-color: #eee8d5;
        }
        
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            padding: 12px;
            margin-bottom: 20px;
        }
        
        code {
            border-radius: 3px;
        }
        
        h1 {
            text-transform: uppercase;
            font-weight: bold;
        }
        
        h3,
        h4,
        h5,
        h6 {
            border-bottom: none;
        }
        
        html * {
            color: #657b83;
        }
        
        html body {
            background-color: #fdf6e3;
        }
        
        html h1,
        html h2,
        html h3,
        html h4,
        html h5,
        html h6 {
            color: #586e75;
            border-color: #657b83;
        }
        
        html a,
        html a:active,
        html a:visited {
            color: #586e75;
            text-decoration: none;
            border-bottom: 1px dashed;
            border-radius: 2px;
        }
        
        html a:hover {
            background-color: #eee8d5;
        }
        
        blockquote a:hover {
            background-color: #fdf6e3;
        }
        
        html a,
        html a:active,
        html a:visited,
        html code.url {
            color: #b58900;
        }
        
        html h1 {
            color: #b58900;
        }
        
        html h2,
        html h3,
        html h4,
        html h5,
        html h6 {
            color: #b58900;
        }
        
        /* QUOTES
        =============================================================================*/
        blockquote {
            border-left: 4px solid #b58900;
            padding: 12px;
            background: #eee8d5;
            border-bottom-right-radius: 2px;
        }
        
        blockquote code {
            background: #fdf6e3;
        }
        
        blockquote > :first-child {
            margin-top: 0;
        }
        
        blockquote > :last-child {
            margin-bottom: 0;
        }
        
        /* TABLES
        =============================================================================*/
        table {
            margin: 0 auto;
            border-collapse: collapse;
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 30px;
        }
        
        table th, table td {
            border: 1px solid #ccc;
            padding: 6px 13px;
        }
        
        table td {
            word-break: break-word;
            line-height: 1.3;
        }
        
        table th {
            font-weight: bold;
            text-align: center !important;
            background-color: #eee8d5;
        }
        
        table tr {
            border-top: 1px solid #ccc;
            background-color: #fdf6e3;
        }
        
        /* IMAGES
        =============================================================================*/
        img {
            max-width: 100%;
        }
        
        p > img {
            display: table;
            margin: 0 auto;
        }
        
        p code, li code, td code {
            padding: 1px 3px;
            border-radius: 3px;
        }
        
        .cp_embed_wrapper {
            margin: 20px 0;
        }
        
        @media screen and (min-width: 980px) and (max-width: 980px) {	
            table thead tr th,
            table thead tr th > code,
            table tbody tr td,
            table tbody tr td > code,
            table tbody tr td > strong {
                font-size: 1.3em;
                line-height: 1.3;
            }
        
            p, p code,
            p strong, p strong > code,
            blockquote p {
                font-size: 1.3em;
                line-height: 1.6;
            }
        
            pre > code,
            ul li pre > code,
            ol li pre > code{
                font-size: 1.3em;
                line-height: 1.3;    	
            }	
            
        
            ul li, ol li,
            ul li > code,
            ol li > code {
                font-size: 1.3em;
                line-height: 1.3;          
            }
        
            ul {
                margin-left: 3.4em;
            }
        
            ol {
                margin-left: 3.6em;
            }
        }
        </style>
<title>14-解决前端安全性问题</title></head>
<body><h1>XSS</h1>
<h3>XSS是什么</h3>
<p>XSS是一种经常出现在web应用中的计算机安全漏洞，它允许恶意web用户将代码植入到提供给其它用户使用的页面中。<br>
比如这些代码包括HTML代码和客户端脚本。攻击者利用XSS漏洞旁路掉访问控制——例如同源策略(same origin policy)。<br>
这种类型的漏洞由于被黑客用来编写危害性更大的网络钓鱼(Phishing)攻击而变得广为人知。<br>
对于跨站脚本攻击，黑客界共识是：跨站脚本攻击是新型的“缓冲区溢出攻击“，而JavaScript是新型的“ShellCode”。</p>
<pre><code>示例：
&lt;script&gt;alert(document.cookie)&lt;/script&gt;
</code></pre>
<h3>特点</h3>
<p>能注入恶意的HTML/JavaScript代码到用户浏览的网页上，从而达到Cookie资料窃取、会话劫持、钓鱼欺骗等攻击。
&lt;攻击代码不一定（非要）在 <script></script> 中&gt;</p>
<h3>原因</h3>
<ul>
<li><p>Web浏览器本身的设计不安全。浏览器能解析和执行JS等代码，但是不会判断该数据和程序代码是否恶意。</p>
</li>
<li><p>输入和输出是Web应用程序最基本的交互，而且网站的交互功能越来越丰富。如果在这过程中没有做好安全防护，很容易会出现XSS漏洞。</p>
</li>
<li><p>程序员水平参差不齐，而且大都没有过正规的安全培训，没有相关的安全意识。</p>
</li>
<li><p>XSS攻击手段灵活多变。</p>
<p>&nbsp;</p>
</li>

</ul>
<h3>危害</h3>
<ul>
<li>盗取各类用户帐号，如机器登录帐号、用户网银帐号、各类管理员帐号</li>
<li>控制企业数据，包括读取、篡改、添加、删除企业敏感数据的能力</li>
<li>盗窃企业重要的具有商业价值的资料</li>
<li>非法转账</li>
<li>强制发送电子邮件</li>
<li>网站挂马</li>
<li>控制受害者机器向其它网站发起攻击</li>

</ul>
<h3>如何防范</h3>
<ul>
<li>将重要的cookie标记为http only, 这样的话Javascript 中的document.cookie语句就不能获取到cookie了.</li>
<li>表单数据规定值的类型，例如：年龄应为只能为int、name只能为字母数字组合。。。。</li>
<li>对数据进行Html Encode 处理</li>
<li>过滤或移除特殊的Html标签， 例如: <script>, <iframe> , &lt; for &lt;, &gt; for &gt;, &amp;quot for</li>
<li>过滤JavaScript 事件的标签。例如 &quot;onclick=&quot;, &quot;onfocus&quot; 等等。</li>

</ul>
<p>参考资料：<br>
<a href='https://www.cnblogs.com/phpstudy2015-6/p/6767032.html' target='_blank' class='url'>https://www.cnblogs.com/phpstudy2015-6/p/6767032.html</a><br>
<a href='https://www.cnblogs.com/443855539-wind/p/6055816.html' target='_blank' class='url'>https://www.cnblogs.com/443855539-wind/p/6055816.html</a><br>
<a href='https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065?fr=aladdin' target='_blank' class='url'>https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065?fr=aladdin</a></p>
<h2>CSRF</h2>
<p>CSRF（Cross-site request forgery）跨站请求伪造，也被称为“One Click Attack”或者Session Riding，通常缩写为CSRF或者XSRF，是一种对网站的恶意利用。尽管听起来像跨站脚本（XSS），但它与XSS非常不同，XSS利用站点内的信任用户，而CSRF则通过伪装来自受信任用户的请求来利用受信任的网站。与XSS攻击相比，CSRF攻击往往不大流行（因此对其进行防范的资源也相当稀少）和难以防范，所以被认为比XSS更具危险性。</p>
<h3>特点</h3>
<ul>
<li>依靠用户标识危害网站</li>
<li>利用网站对用户标识的信任</li>
<li>欺骗用户的浏览器发送HTTP请求给目标站点</li>
<li>另外可以通过IMG标签会触发一个GET请求，可以利用它来实现CSRF攻击。</li>

</ul>
<h3>防御</h3>
<ul>
<li>通过referer、token或者验证码来检测用户提交。</li>
<li>尽量不要在页面的链接中暴露用户隐私信息。</li>
<li>对于用户修改删除等操作最好都使用post操作 。</li>
<li>避免全站通用的cookie，严格设置cookie的域。</li>

</ul>
</body>
</html>