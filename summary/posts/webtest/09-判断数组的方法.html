<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <style type="text/css">
      html,
      body,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      p,
      blockquote,
      ol,
      ul,
      li,
      img {
          margin: 0;
          padding: 0;
          font-size: 100%;
          font: inherit;
          vertical-align: baseline;
      }
      
      html * {
          font-family: "ff-din-web-pro-1", "ff-din-web-pro-2", sans-serif;
          font-size: 16px;
          line-height: 19.2px;
          color-profile: sRGB;
      }
      
      body {
          min-width: 32em;
          max-width: 56em;
          margin: 10px auto;
      }
      
      p, blockquote p {
          line-height: 1.6;
      }
      
      ul, ol {
          margin: 16px 0;
      }
      
      ul li, ol li {
          line-height: 1.6;
      }
      
      p {
          font-weight: lighter;
          margin: 10px 0;
      }
      
      strong {
          font-weight: bold;
      }
      
      ol,
      ul {
          margin-left: 2em;
      }
      
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
          font-weight: lighter;
          text-transform: capitalize;
          margin: 20px 0;
          border-bottom: 1px solid;
          padding-bottom: 6px;
      }
      
      h1, h1 > code {
          font-size: 24.624px;
          line-height: 29.548799999999996px;
      }
      
      h2, h2 > code {
          font-size: 24.624px;
          line-height: 29.548799999999996px;
      }
      
      h3, h3 > code {
          font-size: 23.44px;
          line-height: 28.128px;
      }
      
      h4, h4 > code {
          font-size: 22.16px;
          line-height: 26.592px;
      }
      
      h5, h5 > code {
          font-size: 22.16px;
          line-height: 26.592px;
      }
      
      h6, h6 > code {
          font-size: 22.16px;
          line-height: 26.592px;
      }
      
      img {
          margin-bottom: 20px;
      }
      
      h1 img,
      h2 img,
      h3 img,
      h4 img,
      h5 img,
      h6 img,
      p img {
          margin-bottom: 0;
      }
      
      pre,
      code {
          font-family: monospace, Consolas, "Source Code Pro", Arial, sans-serif;
          color: #586e75;
          background-color: #eee8d5;
      }
      
      pre {
          white-space: pre-wrap;
          word-wrap: break-word;
          padding: 12px;
          margin-bottom: 20px;
      }
      
      code {
          border-radius: 3px;
      }
      
      h1 {
          text-transform: uppercase;
          font-weight: bold;
      }
      
      h3,
      h4,
      h5,
      h6 {
          border-bottom: none;
      }
      
      html * {
          color: #657b83;
      }
      
      html body {
          background-color: #fdf6e3;
      }
      
      html h1,
      html h2,
      html h3,
      html h4,
      html h5,
      html h6 {
          color: #586e75;
          border-color: #657b83;
      }
      
      html a,
      html a:active,
      html a:visited {
          color: #586e75;
          text-decoration: none;
          border-bottom: 1px dashed;
          border-radius: 2px;
      }
      
      html a:hover {
          background-color: #eee8d5;
      }
      
      blockquote a:hover {
          background-color: #fdf6e3;
      }
      
      html a,
      html a:active,
      html a:visited,
      html code.url {
          color: #b58900;
      }
      
      html h1 {
          color: #b58900;
      }
      
      html h2,
      html h3,
      html h4,
      html h5,
      html h6 {
          color: #b58900;
      }
      
      /* QUOTES
      =============================================================================*/
      blockquote {
          border-left: 4px solid #b58900;
          padding: 12px;
          background: #eee8d5;
          border-bottom-right-radius: 2px;
      }
      
      blockquote code {
          background: #fdf6e3;
      }
      
      blockquote > :first-child {
          margin-top: 0;
      }
      
      blockquote > :last-child {
          margin-bottom: 0;
      }
      
      /* TABLES
      =============================================================================*/
      table {
          margin: 0 auto;
          border-collapse: collapse;
          width: 100%;
          box-sizing: border-box;
          margin-bottom: 30px;
      }
      
      table th, table td {
          border: 1px solid #ccc;
          padding: 6px 13px;
      }
      
      table td {
          word-break: break-word;
          line-height: 1.3;
      }
      
      table th {
          font-weight: bold;
          text-align: center !important;
          background-color: #eee8d5;
      }
      
      table tr {
          border-top: 1px solid #ccc;
          background-color: #fdf6e3;
      }
      
      /* IMAGES
      =============================================================================*/
      img {
          max-width: 100%;
      }
      
      p > img {
          display: table;
          margin: 0 auto;
      }
      
      p code, li code, td code {
          padding: 1px 3px;
          border-radius: 3px;
      }
      
      .cp_embed_wrapper {
          margin: 20px 0;
      }
      
      @media screen and (min-width: 980px) and (max-width: 980px) {	
          table thead tr th,
          table thead tr th > code,
          table tbody tr td,
          table tbody tr td > code,
          table tbody tr td > strong {
              font-size: 1.3em;
              line-height: 1.3;
          }
      
          p, p code,
          p strong, p strong > code,
          blockquote p {
              font-size: 1.3em;
              line-height: 1.6;
          }
      
          pre > code,
          ul li pre > code,
          ol li pre > code{
              font-size: 1.3em;
              line-height: 1.3;    	
          }	
          
      
          ul li, ol li,
          ul li > code,
          ol li > code {
              font-size: 1.3em;
              line-height: 1.3;          
          }
      
          ul {
              margin-left: 3.4em;
          }
      
          ol {
              margin-left: 3.6em;
          }
      }
      </style>
<title>09-判断数组的方法</title></head>
<body><h1>有以下 3 个判断数组的方法，请分别介绍它们之间的区别和优劣</h1>
<h4>1. Object.prototype.toString.call()</h4>
<p>每一个继承 Object 的对象都有 <code>toString</code> 方法，如果 <code>toString</code> 方法没有重写的话，会返回 <code>[Object type]</code>，其中 type 为对象的类型。但当除了 Object 类型的对象外，其他类型直接使用 <code>toString</code> 方法时，会直接返回都是内容的字符串，所以我们需要使用call或者apply方法来改变toString方法的执行上下文。</p>
<pre><code>const an = [&#39;Hello&#39;,&#39;An&#39;];
an.toString(); // &quot;Hello,An&quot;
Object.prototype.toString.call(an); // &quot;[object Array]&quot;
</code></pre>
<p>这种方法对于所有基本的数据类型都能进行判断，即使是 null 和 undefined 。</p>
<pre><code>Object.prototype.toString.call(&#39;An&#39;) // &quot;[object String]&quot;
Object.prototype.toString.call(1) // &quot;[object Number]&quot;
Object.prototype.toString.call(Symbol(1)) // &quot;[object Symbol]&quot;
Object.prototype.toString.call(null) // &quot;[object Null]&quot;
Object.prototype.toString.call(undefined) // &quot;[object Undefined]&quot;
Object.prototype.toString.call(function(){}) // &quot;[object Function]&quot;
Object.prototype.toString.call({name: &#39;An&#39;}) // &quot;[object Object]&quot;
</code></pre>
<p><code>Object.prototype.toString.call()</code> 常用于判断浏览器内置对象时。</p>
<p>更多实现可见 <a href='https://juejin.im/post/591647550ce4630069df1c4a'>谈谈 Object.prototype.toString</a></p>
<h4>2. instanceof</h4>
<p><code>instanceof</code> 的内部机制是通过判断对象的原型链中是不是能找到类型的 <code>prototype</code>。</p>
<p>使用 <code>instanceof</code>判断一个对象是否为数组，<code>instanceof</code> 会判断这个对象的原型链上是否会找到对应的 <code>Array</code> 的原型，找到返回 <code>true</code>，否则返回 <code>false</code>。</p>
<pre><code>[]  instanceof Array; // true
</code></pre>
<p>但 <code>instanceof</code> 只能用来判断对象类型，原始类型不可以。并且所有对象类型 instanceof Object 都是 true。</p>
<pre><code>[]  instanceof Object; // true
</code></pre>
<h4>3. Array.isArray()</h4>
<ul>
<li><p>功能：用来判断对象是否为数组</p>
</li>
<li><p><code>Array.isArray()</code> 与 <code>Object.prototype.toString.call()</code></p>
<p><code>Array.isArray()</code>是ES5新增的方法，当不存在 <code>Array.isArray()</code> ，可以用 <code>Object.prototype.toString.call()</code> 实现。</p>
<pre><code>if (!Array.isArray) {
  Array.isArray = function(arg) {
    return Object.prototype.toString.call(arg) === &#39;[object Array]&#39;;
  };
}
</code></pre>
</li>

</ul>
</body>
</html>